apiVersion: 1

apps:
  - type: consensys-asko11y-app
    org_id: 2
    jsonData:
      apiUrl: 'http://localhost:8080/api'
      maxTotalTokens: 50000
      mcpServers:
        # OpenAPI-based MCP server (e.g., MCPO with OpenAPI endpoints)
        - id: 'mcpo'
          name: 'MCPO Time Server'
          url: 'http://mcpo:8000/time'
          enabled: true
          type: 'openapi'

        # Streamable-HTTP MCP server (e.g., MCP-Grafana)
        - id: 'mcp-grafana'
          name: 'grafana'
          url: 'http://mcp-grafana:8000/mcp'
          enabled: true
          type: 'streamable-http'

        - id: 'mcp-alertmanager'
          name: 'alertmanager'
          url: 'http://mcp-alertmanager:8000/mcp'
          enabled: true
          type: 'streamable-http'
  - type: consensys-asko11y-app
    org_id: 1
    jsonData:
      apiUrl: 'http://localhost:8080/api'
      maxTotalTokens: 100000
      mcpServers:
        # OpenAPI-based MCP server (e.g., MCPO with OpenAPI endpoints)
        - id: 'time'
          name: 'Time Server'
          url: 'http://mcpo:8000/time'
          enabled: true
          type: 'openapi'
        - id: 'sequential-thinking'
          name: 'sequential-thinking Server'
          url: 'http://mcpo:8000/sequential-thinking'
          enabled: true
          type: 'openapi'
        - id: 'fetch'
          name: 'fetch Server'
          url: 'http://mcpo:8000/fetch'
          enabled: true
          type: 'openapi'
        - id: 'memory'
          name: 'memory Server'
          url: 'http://mcpo:8000/memory'
          enabled: true
          type: 'openapi'
        # Streamable-HTTP MCP server (e.g., MCP-Grafana)
        - id: 'mcp-grafana'
          name: 'grafana'
          url: 'http://mcp-grafana:8000/mcp'
          enabled: true
          type: 'streamable-http'
        - id: 'mcp-alertmanager'
          name: 'alertmanager'
          url: 'http://mcp-alertmanager:8000/mcp'
          enabled: true
          type: 'streamable-http'
  - type: grafana-llm-app
    org_id: 1
    jsonData:
      enableDevSandbox: true
      provider: anthropic
      models:
        default: large
        mapping:
          base: claude-haiku-4-5-20251001
          large: claude-haiku-4-5-20251001
    secureJsonData:
      anthropicKey: $LLM_API_KEY
  - type: grafana-llm-app
    org_id: 2
    jsonData:
      enableDevSandbox: true
      provider: anthropic
      models:
        default: large
        mapping:
          base: claude-haiku-4-5-20251001
          large: claude-haiku-4-5-20251001
    secureJsonData:
      anthropicKey: $LLM_API_KEY
